<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Langs learning</title>
    <link rel="icon" href="/images/LangsLearnning_icon.png" type="image/x-icon">
    <!-- JUST LIBRARIES -->
    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/@fortawesome/fontawesome-free/css/all.css">
    <!-- JUST LIBRARIES -->


    <!-- OUR CSS FILES HERE -->
    <link rel="stylesheet" href="/styles/variables.css">
    <link rel="stylesheet" href="/styles/styles.css">
    <link rel="stylesheet" href="/styles/student.css">
    <link rel="stylesheet" href="/styles/student-navbar.css">
    <!-- OUR CSS FILES HERE -->
</head>

<body>

    <header>
        <%- include('components/student_navbar.html'); %>
    </header>

    <main class="container-fluid">
        <% for (const [date, classes] of Object.entries(classesByDay)) { %>
            <article class="card classes_by_date__article" data-show="true">
                <section class="card-header row">
                    <div class="col-sm-4">
                        <i class="far fa-calendar-alt"></i>
                        <%= moment(date, 'DD/MM/yyyy').format('ddd DD/MM/yyyy') %>
                    </div>
                    <div class="col-sm-8">
                        <div class="classes_by_date__hide">
                            Esconder horarios deste dia
                            <i class="far fa-eye-slash"></i>
                        </div>
                        <div class="classes_by_date__show">
                            Exibir horarios deste dia
                            <i class="far fa-eye"></i>
                        </div>
                    </div>
                </section>

                <section class="card-body row classes__section">
                    <% classes.forEach(aClass => {%>
                        <div class="col-sm-3">
                            <div class="card col-sm-11">
                                <div class="card-header class__header-style">
                                    <i class="far fa-clock"></i>
                                    <%= moment(aClass.datetime).format('HH:mm') %>
                                </div>
                                <div class="card-body">
                                    <h4 class="class__title-style">
                                        <%= aClass.title %>
                                    </h4>
                                    <% if (aClass.teacher) { %>
                                        <img src="../images/Lara.jpeg" class="rounded-circle teacher__image" alt="Foto do consultor">
                                        <p class="card-text">Lara</p>
                                        <% } else { %>
                                            <img src="../images/unknown_teacher.png" class="rounded-circle teacher__image" alt="Foto do consultor">
                                            <p class="card-text">Ainda n√£o definido</p>
                                            <% } %>
                                                <div class="button__icon">
                                                    <% if(student.availableClasses > 1) { %>
                                                        <a href="#" class="btn btn-sm schedule__button">Agendar</a>
                                                        <% } else { %>
                                                            <a href="/student/packages" class="btn btn-sm schedule__button">Comprar</a>
                                                            <% } %>
                                                                <i class="fas fa-couch couch__icon">
                                            <span class="people__inclass">
                                                <%= aClass.students.length %>
                                            </span>
                                        </i>
                                                </div>
                                </div>
                            </div>
                        </div>
                        <% }); %>
                </section>
            </article>
            <% } %>
    </main>

    <!-- JUST LIBRARIES -->
    <script src="/jquery/dist/jquery.min.js"></script>
    <script src="/lodash/lodash.min.js"></script>
    <script src="/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- JUST LIBRARIES -->

    <!-- OUR JS FILES HERE -->
    <script src="/js/student.js"></script>
    <!-- OUR JS FILES HERE -->
</body>

</html>